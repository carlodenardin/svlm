```python
def product_of_odd_digits(n):
    # Check if there are any odd digits in n
    temp = n
    has_odd = False
    while temp > 0:
        if (temp % 10) % 2 == 1:
            has_odd = True
            break
        temp //= 10
    if not has_odd:
        return 0

    product = 1
    while n > 0:
        d = n % 10
        if d % 2 == 1:
            product *= d
        n //= 10
    return product
```